OutTerminator = ETX;
InTerminator = CR LF;
ReplyTimeout = 200;

getUpdate {
	out "U";
	in "";
	ExtraInput = Ignore;
	# in "........ FIELD CONSTANT: %(\$1UPDATE)f T";   	
	# in "........ FIELD CONSTANT: %*f T";   	
	#in "........ HEATER OUTPUT: %(\$1HEATERVALUE)f VOLTS";
	#in "........ VOLTAGE LIMIT: %(\$1LIMIT)f VOLTS";
	#in "........ RAMP RATE: %(\$1RAMPRATE)f A/SEC";
}

getDirection {
	out "GET SIGN";
	in "%s";
}
	
getOutputMode {
	out "GET O";
	in  "%d";
}

getRampTarget {
	out "R S";
	in "%d";
}

getRampRate {
	out "RAMP";
	in "%f";
}
	
getHeaterStatus {
	out "HEATER";
	in "%s";
}

getHeaterValue {
	out "GET H";
	in "%f";
}

getLimit {
	out "H V";
	in "%f";
}

setMaxTarget {
	out "SET MAX %f";
	in "%(\$1)s";
}

getMaxTarget {
	out "GET MAX";
	in "%f";
}

setMidTarget {
	out "SET MID %f";
	in "%(\$1)s";
}

getMidTarget {
	out "GET MID";
	in "%f";
}
	
getPause {
	out "P";
	in "%s";
}	

# ramp rate, amps per second
setRampRate {
	out "SET RAMP %f";
	in "%(\$1)s";
}
	
setDirection {
	out "D %{-|0|+}"; # 0|-|+
	in "%(\$1)s";
}	
	
# ramp targets: zero, mid, max	
setRampTarget {
	out "RAMP %{ZERO|MID|MAX}"; 
	in "%(\$1)s";
}

setPause {
	out "P %{OFF|ON}";
	in "%(\$1)s";
}
	
# set heater on or off
setHeaterStatus {
	out "H %{OFF|ON}";
	in "%(\$1)s";
}

# value, in volts
setHeaterValue {
	out "S H %f";
	in "%(\$1)s";
}

# tesla or amp units switch
setOutputMode {
	out "T %{AMPS|TESLA}";
	in "%(\$1)s";
}

# set voltage limit
setLimit {
	out "S L %f";
	in "%(\$1)s";
}



