OutTerminator = CR LF;
InTerminator = DC3;
ReplyTimeout = 500;
WriteTimeout = 500;
ReadTimeout = 1000;

getDirection {
	out "GET SIGN";
	in "CURRENT DIRECTION: %{ZERO|NEGATIVE|POSITIVE} %*2c";
}

setDirection {
	wait 100;
	out "D %{0|-|+}";
	in "%(\$1)75c";
}	
	
getOutputMode {
	wait 100;
	out "T";
	in "%*s UNITS: %{AMPS|TESLA} %*2c";
}

# tesla or amp units switch
setOutputMode {
	wait 100;
	out "T %{OFF|ON}";
	in "%(\$1)75c";
}

getOutput {
	out "GET O";
	in "OUTPUT:%f %*{AMPS|TESLA} AT %*f VOLTS %*2c";
}

getRampTarget {
	out "RAMP STATUS";
	in "%#s";
}
		
# ramp targets: zero, mid, max	
setRampTarget {
	out "RAMP %{ZERO|MID|MAX}"; 
	in "%(\$1)75c";
}

getRampRate {
	out "GET RATE";
	in "%*s RAMP RATE: %f A/SEC %*2c";
}

# ramp rate, amps per second
setRampRate {
	out "SET RAMP %f";
	in "%(\$1)75c";
}
	
getHeaterStatus {
	out "HEATER";
	in "%*s HEATER STATUS: %s %*2c";
}

# set heater on or off
setHeaterStatus {
	out "H %{OFF|ON}";
	in "%(\$1)75c";
}

getHeaterValue {
	out "GET H";
	in "%*s HEATER OUTPUT: %f VOLTS %*2c";
}

# value, in volts
setHeaterValue {
	out "S H %f";
	in "%(\$1)75c";
}

getLimit {
	out "GET VL";
	in "%*s VOLTAGE LIMIT: %f VOLTS %*2c";
}

# set voltage limit
setLimit {
	out "S L %f";
	in "%(\$1)75c";
}

getConstant {
	out "GET TPA";
	in "%*s FIELD CONSTANT: %f T/A %*2c";
}

# set field constant
setConstant {
	out "SET TPA %f";
	in "%(\$1)75c";
}

setMaxTarget {
	out "SET MAX %f";
	in "%(\$1)75c";
}

getMaxTarget {
	out "GET MAX";
	in "%*s MAX SETTING: %f %*{AMPS|TESLA} %*2c";
}

setMidTarget {
	out "SET MID %f";
	in "%(\$1)75c";
}

getMidTarget {
	out "GET MID";
	in "%*s MID SETTING: %f %*{AMPS|TESLA} %*2c";
}
	
getPause {
	out "P";
	in "%*s PAUSE STATUS: %{OFF|ON} %*2c";
}	


setPause {
	out "P %{OFF|ON}";
	in "%(\$1)75c";
}
	



